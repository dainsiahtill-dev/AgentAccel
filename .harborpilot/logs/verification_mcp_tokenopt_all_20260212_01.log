VERIFICATION_START mcp_tokenopt_all_20260212_01 2026-02-11T22:57:42.931277+00:00
ENV_CMD git rev-parse --abbrev-ref HEAD
EXIT 0
OUTPUT main
ENV_CMD git rev-parse HEAD
EXIT 0
OUTPUT 7b82c4489a891bc193aa39a04106efccf909971e
ENV_CMD python -V
EXIT 0
OUTPUT Python 3.14.2
CMD ruff check accel/config.py accel/mcp_server.py accel/query/context_compiler.py tests/unit/test_mcp_server.py
EXIT 0
OUTPUT_BEGIN
All checks passed!
OUTPUT_END
CMD set PYTHONPATH=x:\MCPs\agent-accel && pytest -q tests/unit/test_mcp_server.py
EXIT 0
OUTPUT_BEGIN
...............                                                          [100%]
15 passed in 4.54s
OUTPUT_END
CMD set PYTHONPATH=x:\MCPs\agent-accel && pytest -q tests/unit/test_index_and_context.py::test_context_pack_snippet_dedupe_and_metrics tests/unit/test_verify_orchestrator.py tests/unit/test_verify_runners.py
EXIT 0
OUTPUT_BEGIN
..........                                                               [100%]
10 passed in 1.72s
OUTPUT_END
CMD set PYTHONPATH=x:\MCPs\agent-accel && python -c "import json, pathlib; p=pathlib.Path('.harborpilot/logs/tool_api_e2e_tokenopt_all_latest.json'); d=json.loads(p.read_text(encoding='utf-8')); m=d.get('context_metrics',{}); assert m.get('budget_preset')=='small'; assert int(m.get('selected_tests_count',0))>=0; assert int(m.get('selected_checks_count',0))>=1; assert bool(d.get('events_summary_present')) is True; print('tool_api_tokenopt_all_ok')"
EXIT 0
OUTPUT_BEGIN
tool_api_tokenopt_all_ok
OUTPUT_END
ARTIFACT_SHA256 0d0e672f9be074ced5d1f63944cae165d761015242aa455a822bb5eafb410208
VERIFICATION_END mcp_tokenopt_all_20260212_01 2026-02-11T22:57:53.547558+00:00
